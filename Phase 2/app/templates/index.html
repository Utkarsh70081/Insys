<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume Analyzer</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <script>
        // Function to render the API response on the page
        function displayApiResponse(response) {
            const responseContainer = document.getElementById("api-response");
            responseContainer.innerHTML = `
                <p><strong>Candidate Name:</strong> ${response.candidate_name || 'N/A'}</p>
                <p><strong>Score:</strong> ${response.score || 'N/A'}</p>
                <p><strong>Strengths:</strong> ${response.strengths || 'N/A'}</p>
                <p><strong>Weaknesses:</strong> ${response.weaknesses || 'N/A'}</p>
                <p><strong>Analysis:</strong> ${response.analysis || 'N/A'}</p>
            `;
        }

        // Sample response to demonstrate functionality (replace with actual API response)
        const mockResponse = {
            candidate_name: "John Doe",
            score: 85,
            strengths: "Excellent communication and leadership skills.",
            weaknesses: "Limited technical certifications.",
            analysis: "John's resume aligns well with the job description, showcasing strong interpersonal skills and relevant experience."
        };

        // Display the mock response
        displayApiResponse(mockResponse);
    </script>

    <div class="container">
        <h1>Resume Analyzer</h1>
        <form action="/upload/" method="post" enctype="multipart/form-data">
            <label for="files">Upload Resumes (PDF format):</label>
            <input type="file" id="files" name="files" multiple accept="application/pdf">
            
            <label for="job-description">Job Description:</label>
            <textarea id="job-description" name="job_description" rows="4" cols="50"></textarea>
            
            <button type="submit">Analyze</button>
        </form>
    </div>

    <div id="api-response-container" class="container" style="margin-top: 20px;">
        <h3>Analysis:</h3>
        <div id="api-response" style="border: 1px solid #ccc; padding: 10px; background-color: #f9f9f9;"></div>
    </div>

    <div id="bot-usage-instructions" class="container" style="margin-top: 30px;">
        <h3>How to Use the Bot:</h3>
        <ul style="line-height: 1.8;">
            <li>Upload a resume in PDF format using the upload option above.</li>
            <li>Provide a job description for analysis.</li>
            <li>The bot will analyze the resume based on the provided job description.</li>
            <li>Key details such as <strong>Candidate Name</strong>, <strong>Score</strong>, <strong>Strengths</strong>, <strong>Weaknesses</strong>, and a detailed analysis will be displayed in the result section.</li>
            <li>Download options for the analysis will be available in <strong>PDF</strong> and <strong>CSV</strong> formats.</li>
            <li>Ensure the uploaded resume includes all necessary details for accurate results.</li>
        </ul>
    </div>
</body>
</html>
